<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Issue.Views.TaskDetailPage"
             Title="Editar tarea">

    <ScrollView>
        <VerticalStackLayout Spacing="16" Padding="20">
            <Label Text="Título" FontAttributes="Bold" />
            <Entry Text="{Binding Title}" Placeholder="Título de la tarea" />

            <Label Text="Descripción" FontAttributes="Bold" />
            <Editor Text="{Binding Description}" AutoSize="TextChanges" Placeholder="(Opcional)" />

            <Label Text="Fecha y hora" FontAttributes="Bold" />
            <HorizontalStackLayout Spacing="12">
                <DatePicker Date="{Binding Date}" />
                <TimePicker Time="{Binding Time}" />
            </HorizontalStackLayout>

            <Label Text="Notificaciones" FontAttributes="Bold" />
            <Label Text="Principal (obligatoria)" Style="{StaticResource SecondaryTextStyle}" />

            <HorizontalStackLayout Spacing="12">
                <Switch IsToggled="{Binding SecondaryEnabled}" />
                <Label Text="Notificación secundaria" VerticalOptions="Center" />
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="12" IsVisible="{Binding SecondaryEnabled}">
                <Stepper Minimum="1" Maximum="999" Value="{Binding SecondaryValue}" />
                <Label Text="{Binding SecondaryValue}" VerticalOptions="Center" />
                <Picker ItemsSource="{Binding Units}" SelectedIndex="{Binding SecondaryUnitIndex}" Title="Unidad de tiempo secundaria" />
            </HorizontalStackLayout>

            <HorizontalStackLayout Spacing="12">
                <Switch IsToggled="{Binding TertiaryEnabled}" />
                <Label Text="Notificación terciaria" VerticalOptions="Center" />
            </HorizontalStackLayout>
            <HorizontalStackLayout Spacing="12" IsVisible="{Binding TertiaryEnabled}">
                <Stepper Minimum="1" Maximum="999" Value="{Binding TertiaryValue}" />
                <Label Text="{Binding TertiaryValue}" VerticalOptions="Center" />
                <Picker ItemsSource="{Binding Units}" SelectedIndex="{Binding TertiaryUnitIndex}" Title="Unidad de tiempo terciaria" />
            </HorizontalStackLayout>

            <Label Text="Alarma" FontAttributes="Bold" />
            <HorizontalStackLayout Spacing="12">
                <Switch IsToggled="{Binding AlarmEnabled}" />
                <Label Text="Notificación + sonido de alarma" VerticalOptions="Center" />
            </HorizontalStackLayout>

            <HorizontalStackLayout Spacing="12">
                <Button Text="Guardar" Command="{Binding SaveCommand}" />
                <Button Text="Eliminar" Command="{Binding DeleteCommand}" />
            </HorizontalStackLayout>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
